@page
@model IndexModel

<link rel="stylesheet" href="~/css/error.css" asp-append-version="true" />
<link rel="stylesheet" href="~/css/profile.css" asp-append-version="true" />

@using Microsoft.AspNetCore.Identity
@using Microsoft.AspNetCore.Http;
@using _212711T_PracticalAssignment.Model
@inject SignInManager<ApplicationUser> SignInManager
@inject IHttpContextAccessor contxt;
@{
    ViewData["Title"] = "Home page";
}

<div class="text-center">

    @{
        if (SignInManager.IsSignedIn(User))
        {
                <h1 class="display-4">Welcome, @Model.member.FirstName</h1>

                <div class="container mt-5">
        
        <div class="row d-flex justify-content-center">
            
            <div class="col-md-7">
                
                <div class="card p-3 py-4">
                    
                    <div class="text-center">
                        <img src="https://i.imgur.com/bDLhJiP.jpg" width ="100" class="rounded-circle">
                    </div>
                    
                    <div class="text-center mt-3">
                    @{
                                    if (User.IsInRole("Member"))
                                    {
                                                <span class="bg-secondary p-1 px-4 rounded text-white">Member</span>
                                    }
                                    if (User.IsInRole("Admin")){
                                                <span class="bg-secondary p-1 px-4 rounded text-white">Admin</span>
                                    }
                                        }
                    
                                    <h5 class="mt-2 mb-0">@Model.member.FirstName @Model.member.LastName</h5>
                                    <span>Email: @Model.member.Email</span>
                                    <br>
                                    <span>Birth Date: @Model.member.BirthDate.ToShortDateString()</span>
                        
                        <div class="px-4 mt-1">
                                        <p class="fonts"> @Model.member.WhoamI</p>
                        
                        </div>
                        
                        
                    </div>
                    
                   
                    
                    
                </div>
                
            </div>
            
        </div>
        
    </div>



        }
        else
        {
                <h1 class="display-4">Welcome</h1>
        }
    }
</div>

